{% extends "base.html" %}
{% block title %}Users{% endblock %}
{% block content %}
<h1 class="text-xl font-bold mb-4">User Management</h1>
<table class="min-w-full border">
  <thead class="bg-gray-50">
    <tr>
      <th class="px-4 py-2 border">Username</th>
      <th class="px-4 py-2 border">Role</th>
    </tr>
  </thead>
  <tbody>
    {% for uname, u in users.items() %}
      <tr class="border-t">
        <td class="px-4 py-2">{{ uname }}</td>
        <td class="px-4 py-2">{{ u.role }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<h2 class="text-lg font-semibold mt-6 mb-2">Add User</h2>
<form method="post" action="/users/add" class="space-y-2">
  <div>
    <label class="block text-sm font-medium">Username</label>
    <input type="text" name="username" required class="w-full px-2 py-1 border rounded">
  </div>
  <div>
    <label class="block text-sm font-medium">Password</label>
    <input type="password" name="password" required class="w-full px-2 py-1 border rounded">
  </div>
  <div>
    <label class="block text-sm font-medium">Role</label>
    <select name="role" class="w-full px-2 py-1 border rounded">
      <option value="viewer">viewer</option>
      <option value="admin">admin</option>
    </select>
  </div>
  <button type="submit" class="px-3 py-1 bg-green-600 text-white rounded">Add</button>
</form>
{% endblock %}